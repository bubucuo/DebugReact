{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport getEventCharCode from './getEventCharCode';\n/**\n * Normalization of deprecated HTML5 `key` values\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\n\nconst normalizeKey = {\n  Esc: 'Escape',\n  Spacebar: ' ',\n  Left: 'ArrowLeft',\n  Up: 'ArrowUp',\n  Right: 'ArrowRight',\n  Down: 'ArrowDown',\n  Del: 'Delete',\n  Win: 'OS',\n  Menu: 'ContextMenu',\n  Apps: 'ContextMenu',\n  Scroll: 'ScrollLock',\n  MozPrintableKey: 'Unidentified'\n};\n/**\n * Translation from legacy `keyCode` to HTML5 `key`\n * Only special keys supported, all others depend on keyboard layout or browser\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\n\nconst translateToKey = {\n  '8': 'Backspace',\n  '9': 'Tab',\n  '12': 'Clear',\n  '13': 'Enter',\n  '16': 'Shift',\n  '17': 'Control',\n  '18': 'Alt',\n  '19': 'Pause',\n  '20': 'CapsLock',\n  '27': 'Escape',\n  '32': ' ',\n  '33': 'PageUp',\n  '34': 'PageDown',\n  '35': 'End',\n  '36': 'Home',\n  '37': 'ArrowLeft',\n  '38': 'ArrowUp',\n  '39': 'ArrowRight',\n  '40': 'ArrowDown',\n  '45': 'Insert',\n  '46': 'Delete',\n  '112': 'F1',\n  '113': 'F2',\n  '114': 'F3',\n  '115': 'F4',\n  '116': 'F5',\n  '117': 'F6',\n  '118': 'F7',\n  '119': 'F8',\n  '120': 'F9',\n  '121': 'F10',\n  '122': 'F11',\n  '123': 'F12',\n  '144': 'NumLock',\n  '145': 'ScrollLock',\n  '224': 'Meta'\n};\n/**\n * @param {object} nativeEvent Native browser event.\n * @return {string} Normalized `key` property.\n */\n\nfunction getEventKey(nativeEvent) {\n  if (nativeEvent.key) {\n    // Normalize inconsistent values reported by browsers due to\n    // implementations of a working draft specification.\n    // FireFox implements `key` but returns `MozPrintableKey` for all\n    // printable characters (normalized to `Unidentified`), ignore it.\n    const key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n\n    if (key !== 'Unidentified') {\n      return key;\n    }\n  } // Browser does not implement `key`, polyfill as much of it as we can.\n\n\n  if (nativeEvent.type === 'keypress') {\n    const charCode = getEventCharCode(nativeEvent); // The enter-key is technically both printable and non-printable and can\n    // thus be captured by `keypress`, no other non-printable key should.\n\n    return charCode === 13 ? 'Enter' : String.fromCharCode(charCode);\n  }\n\n  if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {\n    // While user keyboard layout determines the actual meaning of each\n    // `keyCode` value, almost all function keys have a universal value.\n    return translateToKey[nativeEvent.keyCode] || 'Unidentified';\n  }\n\n  return '';\n}\n\nexport default getEventKey;","map":{"version":3,"sources":["/Users/gaoshaoyun/Documents/library/debug-react/src/react/packages/react-dom/src/events/getEventKey.js"],"names":["getEventCharCode","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","getEventKey","nativeEvent","key","type","charCode","String","fromCharCode","keyCode"],"mappings":"AAAA;;;;;;;;AASA,OAAOA,gBAAP,MAA6B,oBAA7B;AAEA;;;;;AAIA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,GAAG,EAAE,QADc;AAEnBC,EAAAA,QAAQ,EAAE,GAFS;AAGnBC,EAAAA,IAAI,EAAE,WAHa;AAInBC,EAAAA,EAAE,EAAE,SAJe;AAKnBC,EAAAA,KAAK,EAAE,YALY;AAMnBC,EAAAA,IAAI,EAAE,WANa;AAOnBC,EAAAA,GAAG,EAAE,QAPc;AAQnBC,EAAAA,GAAG,EAAE,IARc;AASnBC,EAAAA,IAAI,EAAE,aATa;AAUnBC,EAAAA,IAAI,EAAE,aAVa;AAWnBC,EAAAA,MAAM,EAAE,YAXW;AAYnBC,EAAAA,eAAe,EAAE;AAZE,CAArB;AAeA;;;;;;AAKA,MAAMC,cAAc,GAAG;AACrB,OAAK,WADgB;AAErB,OAAK,KAFgB;AAGrB,QAAM,OAHe;AAIrB,QAAM,OAJe;AAKrB,QAAM,OALe;AAMrB,QAAM,SANe;AAOrB,QAAM,KAPe;AAQrB,QAAM,OARe;AASrB,QAAM,UATe;AAUrB,QAAM,QAVe;AAWrB,QAAM,GAXe;AAYrB,QAAM,QAZe;AAarB,QAAM,UAbe;AAcrB,QAAM,KAde;AAerB,QAAM,MAfe;AAgBrB,QAAM,WAhBe;AAiBrB,QAAM,SAjBe;AAkBrB,QAAM,YAlBe;AAmBrB,QAAM,WAnBe;AAoBrB,QAAM,QApBe;AAqBrB,QAAM,QArBe;AAsBrB,SAAO,IAtBc;AAuBrB,SAAO,IAvBc;AAwBrB,SAAO,IAxBc;AAyBrB,SAAO,IAzBc;AA0BrB,SAAO,IA1Bc;AA2BrB,SAAO,IA3Bc;AA4BrB,SAAO,IA5Bc;AA6BrB,SAAO,IA7Bc;AA8BrB,SAAO,IA9Bc;AA+BrB,SAAO,KA/Bc;AAgCrB,SAAO,KAhCc;AAiCrB,SAAO,KAjCc;AAkCrB,SAAO,SAlCc;AAmCrB,SAAO,YAnCc;AAoCrB,SAAO;AApCc,CAAvB;AAuCA;;;;;AAIA,SAASC,WAAT,CAAqBC,WAArB,EAAyD;AACvD,MAAIA,WAAW,CAACC,GAAhB,EAAqB;AACnB;AACA;AAEA;AACA;AACA,UAAMA,GAAG,GAAGhB,YAAY,CAACe,WAAW,CAACC,GAAb,CAAZ,IAAiCD,WAAW,CAACC,GAAzD;;AACA,QAAIA,GAAG,KAAK,cAAZ,EAA4B;AAC1B,aAAOA,GAAP;AACD;AACF,GAXsD,CAavD;;;AACA,MAAID,WAAW,CAACE,IAAZ,KAAqB,UAAzB,EAAqC;AACnC,UAAMC,QAAQ,GAAGnB,gBAAgB,CAACgB,WAAD,CAAjC,CADmC,CAGnC;AACA;;AACA,WAAOG,QAAQ,KAAK,EAAb,GAAkB,OAAlB,GAA4BC,MAAM,CAACC,YAAP,CAAoBF,QAApB,CAAnC;AACD;;AACD,MAAIH,WAAW,CAACE,IAAZ,KAAqB,SAArB,IAAkCF,WAAW,CAACE,IAAZ,KAAqB,OAA3D,EAAoE;AAClE;AACA;AACA,WAAOJ,cAAc,CAACE,WAAW,CAACM,OAAb,CAAd,IAAuC,cAA9C;AACD;;AACD,SAAO,EAAP;AACD;;AAED,eAAeP,WAAf","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport getEventCharCode from './getEventCharCode';\n\n/**\n * Normalization of deprecated HTML5 `key` values\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst normalizeKey = {\n  Esc: 'Escape',\n  Spacebar: ' ',\n  Left: 'ArrowLeft',\n  Up: 'ArrowUp',\n  Right: 'ArrowRight',\n  Down: 'ArrowDown',\n  Del: 'Delete',\n  Win: 'OS',\n  Menu: 'ContextMenu',\n  Apps: 'ContextMenu',\n  Scroll: 'ScrollLock',\n  MozPrintableKey: 'Unidentified',\n};\n\n/**\n * Translation from legacy `keyCode` to HTML5 `key`\n * Only special keys supported, all others depend on keyboard layout or browser\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst translateToKey = {\n  '8': 'Backspace',\n  '9': 'Tab',\n  '12': 'Clear',\n  '13': 'Enter',\n  '16': 'Shift',\n  '17': 'Control',\n  '18': 'Alt',\n  '19': 'Pause',\n  '20': 'CapsLock',\n  '27': 'Escape',\n  '32': ' ',\n  '33': 'PageUp',\n  '34': 'PageDown',\n  '35': 'End',\n  '36': 'Home',\n  '37': 'ArrowLeft',\n  '38': 'ArrowUp',\n  '39': 'ArrowRight',\n  '40': 'ArrowDown',\n  '45': 'Insert',\n  '46': 'Delete',\n  '112': 'F1',\n  '113': 'F2',\n  '114': 'F3',\n  '115': 'F4',\n  '116': 'F5',\n  '117': 'F6',\n  '118': 'F7',\n  '119': 'F8',\n  '120': 'F9',\n  '121': 'F10',\n  '122': 'F11',\n  '123': 'F12',\n  '144': 'NumLock',\n  '145': 'ScrollLock',\n  '224': 'Meta',\n};\n\n/**\n * @param {object} nativeEvent Native browser event.\n * @return {string} Normalized `key` property.\n */\nfunction getEventKey(nativeEvent: KeyboardEvent): string {\n  if (nativeEvent.key) {\n    // Normalize inconsistent values reported by browsers due to\n    // implementations of a working draft specification.\n\n    // FireFox implements `key` but returns `MozPrintableKey` for all\n    // printable characters (normalized to `Unidentified`), ignore it.\n    const key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n    if (key !== 'Unidentified') {\n      return key;\n    }\n  }\n\n  // Browser does not implement `key`, polyfill as much of it as we can.\n  if (nativeEvent.type === 'keypress') {\n    const charCode = getEventCharCode(nativeEvent);\n\n    // The enter-key is technically both printable and non-printable and can\n    // thus be captured by `keypress`, no other non-printable key should.\n    return charCode === 13 ? 'Enter' : String.fromCharCode(charCode);\n  }\n  if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {\n    // While user keyboard layout determines the actual meaning of each\n    // `keyCode` value, almost all function keys have a universal value.\n    return translateToKey[nativeEvent.keyCode] || 'Unidentified';\n  }\n  return '';\n}\n\nexport default getEventKey;\n"]},"metadata":{},"sourceType":"module"}