{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport { disableJavaScriptURLs } from 'shared/ReactFeatureFlags';\nlet ReactDebugCurrentFrame = null;\n\nif (__DEV__) {\n  ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n} // A javascript: URL can contain leading C0 control or \\u0020 SPACE,\n// and any newline or tab are filtered out as if they're not part of the URL.\n// https://url.spec.whatwg.org/#url-parsing\n// Tab or newline are defined as \\r\\n\\t:\n// https://infra.spec.whatwg.org/#ascii-tab-or-newline\n// A C0 control is a code point in the range \\u0000 NULL to \\u001F\n// INFORMATION SEPARATOR ONE, inclusive:\n// https://infra.spec.whatwg.org/#c0-control-or-space\n\n/* eslint-disable max-len */\n\n\nconst isJavaScriptProtocol = /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i;\nlet didWarn = false;\n\nfunction sanitizeURL(url) {\n  if (disableJavaScriptURLs) {\n    invariant(!isJavaScriptProtocol.test(url), 'React has blocked a javascript: URL as a security precaution.%s', __DEV__ ? ReactDebugCurrentFrame.getStackAddendum() : '');\n  } else if (__DEV__ && !didWarn && isJavaScriptProtocol.test(url)) {\n    didWarn = true;\n    warning(false, 'A future version of React will block javascript: URLs as a security precaution. ' + 'Use event handlers instead if you can. If you need to generate unsafe HTML try ' + 'using dangerouslySetInnerHTML instead. React was passed %s.', JSON.stringify(url));\n  }\n}\n\nexport default sanitizeURL;","map":{"version":3,"sources":["/Users/gaoshaoyun/Documents/library/debug-react/src/react/packages/react-dom/src/shared/sanitizeURL.js"],"names":["invariant","warning","ReactSharedInternals","disableJavaScriptURLs","ReactDebugCurrentFrame","__DEV__","isJavaScriptProtocol","didWarn","sanitizeURL","url","test","getStackAddendum","JSON","stringify"],"mappings":"AAAA;;;;;;;;AASA,OAAOA,SAAP,MAAsB,kBAAtB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,oBAAP,MAAiC,6BAAjC;AACA,SAAQC,qBAAR,QAAoC,0BAApC;AAEA,IAAIC,sBAAsB,GAAK,IAA/B;;AACA,IAAIC,OAAJ,EAAa;AACXD,EAAAA,sBAAsB,GAAGF,oBAAoB,CAACE,sBAA9C;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AACA,MAAME,oBAAoB,GAAG,2HAA7B;AAEA,IAAIC,OAAO,GAAG,KAAd;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAAkC;AAChC,MAAIN,qBAAJ,EAA2B;AACzBH,IAAAA,SAAS,CACP,CAACM,oBAAoB,CAACI,IAArB,CAA0BD,GAA1B,CADM,EAEP,iEAFO,EAGPJ,OAAO,GAAGD,sBAAsB,CAACO,gBAAvB,EAAH,GAA+C,EAH/C,CAAT;AAKD,GAND,MAMO,IAAIN,OAAO,IAAI,CAACE,OAAZ,IAAuBD,oBAAoB,CAACI,IAArB,CAA0BD,GAA1B,CAA3B,EAA2D;AAChEF,IAAAA,OAAO,GAAG,IAAV;AACAN,IAAAA,OAAO,CACL,KADK,EAEL,qFACE,iFADF,GAEE,6DAJG,EAKLW,IAAI,CAACC,SAAL,CAAeJ,GAAf,CALK,CAAP;AAOD;AACF;;AAED,eAAeD,WAAf","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {disableJavaScriptURLs} from 'shared/ReactFeatureFlags';\n\nlet ReactDebugCurrentFrame = ((null: any): {getStackAddendum(): string});\nif (__DEV__) {\n  ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n}\n\n// A javascript: URL can contain leading C0 control or \\u0020 SPACE,\n// and any newline or tab are filtered out as if they're not part of the URL.\n// https://url.spec.whatwg.org/#url-parsing\n// Tab or newline are defined as \\r\\n\\t:\n// https://infra.spec.whatwg.org/#ascii-tab-or-newline\n// A C0 control is a code point in the range \\u0000 NULL to \\u001F\n// INFORMATION SEPARATOR ONE, inclusive:\n// https://infra.spec.whatwg.org/#c0-control-or-space\n\n/* eslint-disable max-len */\nconst isJavaScriptProtocol = /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i;\n\nlet didWarn = false;\n\nfunction sanitizeURL(url: string) {\n  if (disableJavaScriptURLs) {\n    invariant(\n      !isJavaScriptProtocol.test(url),\n      'React has blocked a javascript: URL as a security precaution.%s',\n      __DEV__ ? ReactDebugCurrentFrame.getStackAddendum() : '',\n    );\n  } else if (__DEV__ && !didWarn && isJavaScriptProtocol.test(url)) {\n    didWarn = true;\n    warning(\n      false,\n      'A future version of React will block javascript: URLs as a security precaution. ' +\n        'Use event handlers instead if you can. If you need to generate unsafe HTML try ' +\n        'using dangerouslySetInnerHTML instead. React was passed %s.',\n      JSON.stringify(url),\n    );\n  }\n}\n\nexport default sanitizeURL;\n"]},"metadata":{},"sourceType":"module"}